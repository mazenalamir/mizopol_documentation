{"title":"g2sys","markdown":{"yaml":{"title":"g2sys","subtitle":"Detecting invariant relationships in the Nasa Turbofan Jet Engine Dataset."},"headingText":"Dataset / objective","containsRefs":false,"markdown":"\n\n***\n\n\n:::{.columns}\n::: {.column width=63%}\nThis use case involves the [dataset provided by Nasa](https://www.kaggle.com/datasets/behrad3d/nasa-cmaps) where run-to-failure history of degradation is captured. Four datasets are provided which correspond to different conditions. \n\n:::\n::: {.column width=2%}\n \n:::\n::: {.column width=35%}\n![](images/turbofan.png)\n:::\n::: \n\n:::{.callout-note title=\"Objective\"}\nThe original objective of this Nasa Datasets is to estimate the **R**emaining **U**seful **L**ife (**RUL**) which is not our objective in this usecase as we aim at showing **how the sensors relate to each other** and what are the invariant relationships that hold depsite of the aging so that one can only focus on non redundant information. \n\n::: \n\nThe following movie shows how some invariant relationships that are present in the nasa dateset can be rapidly obtained using the **g2sys** module. \n\n<video controls width=\"100%\" style=\"border: 3px solid #3f7086ff; border-radius: 4px;\">\n  <source src=\"https://www.mazenalamir.fr/videos/graph_nasa_2.mp4\" type=\"video/mp4\"/>\n  Your browser does not support the video tag.\n</video>\n\nFor those who are interested in the pre-processing of the $\\texttt{kaggle}$ data set, the following section might be helpful.\n\n\n# Dataset preparation for g2sys \n\nAs the dataset labelled as *train* (in the Nasa repository) contains the whole lifecycle until final degradation, we stick to these datasets. The dataset labelled *test* are there for the RUL-related studies (see above). \n\nThe following script is used to create the four datasets. Notice that the sensors have been labeled more simply and that the first two columns are removed as they represents respectively the time and the cycle endpoints. \n\n```python\nimport pandas as pd \nimport numpy as np \n\nfor iexp in [1, 2, 3, 4]:\n\n    df = pd.read_csv(f'train_FD00{iexp}.txt', sep=' ')\n\n    df.reset_index(drop=True, inplace=True)\n    df.columns = [f'c{i+1}' for i in range(len(df.columns))]\n\n    fig = go.Figure()\n    t = np.arange(0, len(df))\n    i =np.random.randint(0,len(df.columns))\n    fig.add_trace(go.Scatter(x=t, y=df.loc[:,f'c{i+1}'].values, name=f'c{i}'))\n\n    df = df[[f'c{i+1}' for i in np.arange(2, len(df.columns)-2)]]\n    df.to_csv(f'nasa_{iexp}.csv')\n```\n\n:::{.callout-tip title='The dataset used for illustration'}\nThis leads to four datasets among which, only the second one, namely `nasa_2.csv` is used here for the sake of illustration. \n:::\n\n# Results & Discussion\n\n## System's graph \n\nThe following graph of connexion between sensors is obtained (see [the section](graph_intro.qmd)) dedicated to the presentation of the graph of connexion between sensors for more details: \n\n![Graph representing the relationships as discovered using the **g2sys** module from the `nasa_2.csv` dataset. Notice that the nodes with thick boundaries refer to sensors indexing dynamic relationships while the other refer to sensors that can be represented through static raltionsips (expressing them as functions of the sets of sensors that send arrows to them).](images/nasa2_graph.png){width=60% #fig-graph_nasa_2}\n\n\nNotice that as it is shown in the screenshot below, only 15% of the data is used for discovering the relationships while the residuals shown after are computed for the whole datasets. \n\n![Screenshot of the **g2sys** module showing the amount of training data (15%) used in the discovery of the relationships. As the successive portions of the dataset represents different turbofans recordings, The persistency of the smalleness of the residuals as shown hereafter witnesses in favour of the relevance of these invariant relationships over the whole set of engines.](images/screenshot_train_nasa_2.png){#fig-screenshot}\n\n## Viewing residuals \n\nRecall that the residual is expressed by the normalized expression:\n\n$$\n\\dfrac{\\texttt{percentile}(y-\\hat y, 95)}{\\texttt{median}(\\vert y\\vert )}\n$$\n\nThis means that given the plots below, 95% of the error are lower than 8% of the absolute value of the label's median. As a matter of fact, except for two relationships, the relationships precision is such that 95% of the error are lower than 5% of the label's median.\n\n:::{.callout-tip title=\"About the residual's legend\"}\nThe syntax of the residual legens is as follows \n$$\n\\texttt{sensor}|\\texttt{card}|\\texttt{deg}|\\texttt{d}|\\texttt{nd}\n$$\n\nwhere \n\n- $\\texttt{sensor}$ is the sensor's name.\n- $\\texttt{card}$ is the number of active monomials (number of active coefficients)\n- $\\texttt{d}$ is the elementary delay used in the solution[^ifnond]\n- $\\texttt{nd}$ is the the number of delays \n:::\n\n<iframe src=\"html_files/all_residual_nasa_2.html\" width=\"100%\" height=\"620px\" style=\"border:none;\"></iframe>\n\n\n\n[^graph]: See the section dedicated to the presentation of the concept of [graph of system](graph_intro.qmd).\n\n[^ifnond]: If $\\texttt{d}=0$, the parameter $\\texttt{nd}$ has no effect.\n\n[^dynamicrec]: See the [Overview](overview.qmd) section for a description of these concepts. \n\n\n","srcMarkdownNoYaml":"\n\n***\n\n# Dataset / objective\n\n:::{.columns}\n::: {.column width=63%}\nThis use case involves the [dataset provided by Nasa](https://www.kaggle.com/datasets/behrad3d/nasa-cmaps) where run-to-failure history of degradation is captured. Four datasets are provided which correspond to different conditions. \n\n:::\n::: {.column width=2%}\n \n:::\n::: {.column width=35%}\n![](images/turbofan.png)\n:::\n::: \n\n:::{.callout-note title=\"Objective\"}\nThe original objective of this Nasa Datasets is to estimate the **R**emaining **U**seful **L**ife (**RUL**) which is not our objective in this usecase as we aim at showing **how the sensors relate to each other** and what are the invariant relationships that hold depsite of the aging so that one can only focus on non redundant information. \n\n::: \n\nThe following movie shows how some invariant relationships that are present in the nasa dateset can be rapidly obtained using the **g2sys** module. \n\n<video controls width=\"100%\" style=\"border: 3px solid #3f7086ff; border-radius: 4px;\">\n  <source src=\"https://www.mazenalamir.fr/videos/graph_nasa_2.mp4\" type=\"video/mp4\"/>\n  Your browser does not support the video tag.\n</video>\n\nFor those who are interested in the pre-processing of the $\\texttt{kaggle}$ data set, the following section might be helpful.\n\n\n# Dataset preparation for g2sys \n\nAs the dataset labelled as *train* (in the Nasa repository) contains the whole lifecycle until final degradation, we stick to these datasets. The dataset labelled *test* are there for the RUL-related studies (see above). \n\nThe following script is used to create the four datasets. Notice that the sensors have been labeled more simply and that the first two columns are removed as they represents respectively the time and the cycle endpoints. \n\n```python\nimport pandas as pd \nimport numpy as np \n\nfor iexp in [1, 2, 3, 4]:\n\n    df = pd.read_csv(f'train_FD00{iexp}.txt', sep=' ')\n\n    df.reset_index(drop=True, inplace=True)\n    df.columns = [f'c{i+1}' for i in range(len(df.columns))]\n\n    fig = go.Figure()\n    t = np.arange(0, len(df))\n    i =np.random.randint(0,len(df.columns))\n    fig.add_trace(go.Scatter(x=t, y=df.loc[:,f'c{i+1}'].values, name=f'c{i}'))\n\n    df = df[[f'c{i+1}' for i in np.arange(2, len(df.columns)-2)]]\n    df.to_csv(f'nasa_{iexp}.csv')\n```\n\n:::{.callout-tip title='The dataset used for illustration'}\nThis leads to four datasets among which, only the second one, namely `nasa_2.csv` is used here for the sake of illustration. \n:::\n\n# Results & Discussion\n\n## System's graph \n\nThe following graph of connexion between sensors is obtained (see [the section](graph_intro.qmd)) dedicated to the presentation of the graph of connexion between sensors for more details: \n\n![Graph representing the relationships as discovered using the **g2sys** module from the `nasa_2.csv` dataset. Notice that the nodes with thick boundaries refer to sensors indexing dynamic relationships while the other refer to sensors that can be represented through static raltionsips (expressing them as functions of the sets of sensors that send arrows to them).](images/nasa2_graph.png){width=60% #fig-graph_nasa_2}\n\n\nNotice that as it is shown in the screenshot below, only 15% of the data is used for discovering the relationships while the residuals shown after are computed for the whole datasets. \n\n![Screenshot of the **g2sys** module showing the amount of training data (15%) used in the discovery of the relationships. As the successive portions of the dataset represents different turbofans recordings, The persistency of the smalleness of the residuals as shown hereafter witnesses in favour of the relevance of these invariant relationships over the whole set of engines.](images/screenshot_train_nasa_2.png){#fig-screenshot}\n\n## Viewing residuals \n\nRecall that the residual is expressed by the normalized expression:\n\n$$\n\\dfrac{\\texttt{percentile}(y-\\hat y, 95)}{\\texttt{median}(\\vert y\\vert )}\n$$\n\nThis means that given the plots below, 95% of the error are lower than 8% of the absolute value of the label's median. As a matter of fact, except for two relationships, the relationships precision is such that 95% of the error are lower than 5% of the label's median.\n\n:::{.callout-tip title=\"About the residual's legend\"}\nThe syntax of the residual legens is as follows \n$$\n\\texttt{sensor}|\\texttt{card}|\\texttt{deg}|\\texttt{d}|\\texttt{nd}\n$$\n\nwhere \n\n- $\\texttt{sensor}$ is the sensor's name.\n- $\\texttt{card}$ is the number of active monomials (number of active coefficients)\n- $\\texttt{d}$ is the elementary delay used in the solution[^ifnond]\n- $\\texttt{nd}$ is the the number of delays \n:::\n\n<iframe src=\"html_files/all_residual_nasa_2.html\" width=\"100%\" height=\"620px\" style=\"border:none;\"></iframe>\n\n\n\n[^graph]: See the section dedicated to the presentation of the concept of [graph of system](graph_intro.qmd).\n\n[^ifnond]: If $\\texttt{d}=0$, the parameter $\\texttt{nd}$ has no effect.\n\n[^dynamicrec]: See the [Overview](overview.qmd) section for a description of these concepts. \n\n\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","number-sections":true,"html-math-method":"mathjax","css":["styles/styles.css"],"toc":true,"output-file":"g2sys_turbofan.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.6.32","bibliography":["biblio.bib"],"resources":["images/sparsity_osc_*.png","images/anomalies_detection_pbstat_*.png","images/sources_of_anomalies_*.png","images/zema_*.png"],"theme":"flatly","link-citations":true,"csl":"styles/apa.csl","title":"g2sys","subtitle":"Detecting invariant relationships in the Nasa Turbofan Jet Engine Dataset."},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}