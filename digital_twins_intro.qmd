---
title: Digital Twins
subtitle: Facilitating DT design using g2sys
---

***

Before any discussion let us recall the following fact: 

:::{.callout-important title="MizoPol is not a tool to create a digital twins although it might help"}
The MizoPol module is not **officially** designed to create digital twins of industrial 
complex equipments. It is mainly deisgned to help discovering **sparse** invariant relationships whose residuals can be used as a tool to derive **explainable anomaly detection**. 

**MizoPol** can also be used to derive expressions for virtual sensors (for which there exist expensive sensors that might be used in a training step while they are absent from the final product). 

**MizoPol** can also be used as a generator for complex and subtil defaults (based on parametric detuning of the established invariant relatioships)

Nevertheless, in some special cases, **MizoPol** can be a powerfull tool helping decomposing the set of sensors into state variables, output variable and exogenous variables so that a digital tiwn can be designed. 

It should be kept in mind however that this process is full of assumptions, approximations and hence should be viewed as elaborated suggestions towards building the digital twins on a use-case dependent basis. 
:::

This being said, the following illustration summarizes the steps involved in using **MizoPol** (in particular the **g2sys** module already discussed in the [introduction to g2sys section](g2sys_intro.qmd)) to help building the digital twin. 

This picture gives the ideal case where the task is perfectly achieved. 

![](images/digital_twin.png)

An example of such a complete process is shown in the section dedicated to the [nasa turbofan ageing example](g2sys_turbofan.qmd).

Notice that the process is mainly based on the decomposition of the set of sensors into **three subsets**, which are: 

1. The subset of sensors that can be expressed as static relationships involving the others. These sensors, once enumerated can be removed from the process as either they are useless in explaining the dynamic or they might be involved but since they can be expressed in terms of the other sensors, they can still be removed. 

    **These are the components of the $z$ vector** in the above schema[^notonly].

2. The set of sensors that cannot be expressed in terms of the other sensors, neither statically nor dynamically. These are exogenous sensors that needs to be provided should any digital twin be designed. Typical examples are setpoints, whether ambiant temperature, etc. 

    **These are the components of the $u$ (exogenous) sensors** in the above schema. 

3. The set of sensors that can be expressed through dynamic relationships where their increments are expressed in terms of themselves and the set of exogenous sensors together with their possibly delayed values. 

    **These are the components of the state vector $x$** of the equipment in the above schema. 

[^notonly]: Notice that, rigorously speaking, there is no difference in nature between these sensors and those who would have been eliminated through the search for aligned sensors step. All of them can be expressed in terms of static relationships involving the other sensors. It is only their position in the process that distinguished them. 

:::{.callout-warning title='Be extremely careful about Unicity & Open-loop simulation'}
There are two major facts regarding the use of MizoPol in designing digital twins: 

1. **The danger of open-loop simulations**

    It should be kept in mind that when dynamic relationships are involved, it is unrealistic tous the simulation model in **open-loop** as small identification errors might propagate along the simulation leading to totally erronous results. The dgital-twin is however useful in closed-loop mode as it gives the dependence (approximately) of the derivatices of some of the sensors in terms of other sensors.

2. **The non-unicity of representation**

    Recall that MizoPol is about finging invariant relationships in the data. But the same relationship can be viewed in an infinite number of forms depending on the use of delays, the use of recursive vs non recursive form. Some invariance might be relevant in a rather poor training data which does not represent real dynamical/static laws. The use of non consistent relationship in a digital twin might lead to erronous prediction. 
:::
